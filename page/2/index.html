<!DOCTYPE html>
<html lang="en-us">
  <head>
	<meta name="generator" content="Hugo 0.64.1" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="linjinbao">
  <meta name="description" content="打工人日记">
  <meta name="keywords" content="博客 个人 日记">
  
  
  
  <link rel="canonical" href="https://linjinbao.github.io/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           打工人日记
       
  </title>
  <meta name="title" content="打工人日记">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
    <link href="https://linjinbao.github.io/index.xml" rel="alternate" type="application/rss+xml" title="打工人日记" />
    <link href="https://linjinbao.github.io/index.xml" rel="feed" type="application/rss+xml" title="打工人日记" />
  
  

<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "url": "https:\/\/linjinbao.github.io\/",
    "name": "打工人日记",
    "author": {
        "@type": "Person",
        "name": "linjinbao"
    },
    "description": "打工人日记",
}
</script>
 

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://linjinbao.github.io">打工人日记</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">博客</a>
                
                <a class="menu-item" href="/categories/" title="">分类</a>
                
                <a class="menu-item" href="/tags/" title="">标签</a>
                
                <a class="menu-item" href="/about/" title="关于">关于</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://linjinbao.github.io">打工人日记</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">博客</a>
                
                <a class="menu-item" href="/categories/" title="">分类</a>
                
                <a class="menu-item" href="/tags/" title="">标签</a>
                
                <a class="menu-item" href="/about/" title="关于">关于</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
  	
  	
<div class="post-warp">
	<div class="intro">
    
    
    
    <div class="avatar">
        <a href="/"> <img src="/images/me/avatar.jpg"> </a>
    </div>
    
    
    <h2 class="description">
       Across the great wall, we can reach the world
    </h2>
    
 
</div>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-03-17-%E5%9B%BD%E4%BA%A7%E8%BD%AF%E4%BB%B6%E7%BB%84%E4%BB%B6%E9%80%82%E9%85%8D/">国产软件组件适配</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				docker arm64安装 版本：19.03
下载软件包
wget -c <a href="https://download.docker.com/linux/static/stable/aarch64/docker-19.03.6.tgz">https://download.docker.com/linux/static/stable/aarch64/docker-19.03.6.tgz</a>   解压二进制文件
tar -xf docker-19.03.06.tgz mv docker/* /usr/bin/   配置systemd服务
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-03-17 itemprop="datePublished">March 17, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-03-17-%E7%A9%BA%E9%95%9C%E5%83%8F/">空镜像</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				如何将当前宿主机制作成镜像？
答案：借助scratch 镜像
scratch 是一个空镜像，只能用于构建其他镜像，比如你要运行一个包含所有依赖的二进制文件，如Golang 程序，可以直接使用 scratch 作为基础镜像。例如busybox的Dockerfile写法：
FROM scratch ADD busybox.tar.xz / CMD [&quot;sh&quot;] 将当前机器制作成OS镜像，使用docker build即可。
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-03-17 itemprop="datePublished">March 17, 2021</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/docker/">
               	 #docker</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-03-14-%E6%B5%81%E6%B0%B4%E8%B4%A6/">日常流水账</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				今日花钱：
午饭18 晚饭14
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-03-14 itemprop="datePublished">March 14, 2021</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/%E6%89%93%E5%B7%A5%E6%97%A5%E8%AE%B0/">
               	 #打工日记</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-03-13-%E7%A7%9F%E5%88%B0%E6%88%BF%E5%AD%90/">租到房子</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				早上在公司门口见到一块钱硬币
上午租到房子，在昌源清苑，租金1400每个月，押一付一，合同半年，房东顾国强
下午采购生活用品，花销68.4
开销：
早上地铁3.6元 中午吃饭20.8元 房租2800 采购生活用品68.4
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-03-13 itemprop="datePublished">March 13, 2021</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/%E6%89%93%E5%B7%A5%E6%97%A5%E8%AE%B0/">
               	 #打工日记</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-24-%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93/">面试题总结</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				MySQL数据库慢查询问题排查方法 查询慢查询数量 一般来说一个正常运行的MySQL服务器，每分钟的慢查询在个位数是正常的，偶尔飙升到两位数也不是不能接受，接近100系统可能就有问题了，但是还能勉强用。这几次出问题慢查询的数量已经到了1000多。
慢查询的数量保存在mysql库里面的slow_log表。
SELECT * FROM slow_log where start_time &gt; '2019/05/19 00:00:00'; 这样就能查出一天以来的慢查询了。
查看当前进行的查询状态 大家应该都比较常用show processlist来查看当前系统中正在执行的查询，其实这些数据也保存在information_schema库里面的processlist表，因此如果要做条件查询，直接查询这张表更方便。
比如查看当前所有的process
select * from information_schema.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-24 itemprop="datePublished">February 24, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-23-%E5%85%AB%E8%82%A1%E6%96%87%E7%AC%94%E8%AE%B0/">八股文笔记</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				redis知识 简介 简单来说 Redis 就是一个使用 C 语言开发的数据库，不过与传统数据库不同的是 Redis 的数据是存在内存中的 ，也就是它是内存数据库，所以读写速度非常快，因此 Redis 被广泛应用于缓存方向。
另外，Redis 除了做缓存之外，Redis 也经常用来做分布式锁，甚至是消息队列。
Redis 提供了多种数据类型来支持不同的业务场景。Redis 还支持事务 、持久化、Lua 脚本、多种集群方案
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-23 itemprop="datePublished">February 23, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-23-%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				git合并指定的一次commit  答案：
git cherry-pick commitid git rebase &ndash;onto branch commitid git撤销已经推送的提交  答案：
git reset &ndash;soft id Java线程间通信  答案：利用线程同步来实现通信，通过while轮询方式，wait/notify机制
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-23 itemprop="datePublished">February 23, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-07-pod%E8%8E%B7%E5%8F%96%E8%87%AA%E8%BA%AB%E5%8F%82%E6%95%B0/">pod获取自身参数</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				简介 很多场景下，我们想要在容器运行的时候获取该副本本身的一些信息，例如副本的名称（名称由rc自动分配），当前运行的节点名，当前副本的IP等等信息，k8s为这类场景提供了解决方案。
示例：
downward-api-env.yaml
apiVersion: v1 kind: Pod metadata: name: downward spec: containers: - name: main image: busybox imagePullPolicy: IfNotPresent command: [&quot;sleep&quot;, &quot;9999999&quot;] resources: requests: cpu: 15m memory: 5Mi limits: cpu: 100m memory: 200Mi env: - name: POD_NAME ##副本名称 valueFrom: fieldRef: fieldPath: metadata.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-07 itemprop="datePublished">February 7, 2021</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/k8s/">
               	 #k8s</a></span>
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/kubernetes/">
               	 #kubernetes</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-04-gitlab%E9%83%A8%E7%BD%B2%E5%85%A8%E6%B5%81%E7%A8%8B%E8%AE%B0%E5%BD%95/">gitlab部署全流程记录</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				术语解释： 1. Gitlab GitLab是一个利用Ruby on Rails开发的开源应用程序，实现一个自托管的Git项目仓库，可通过Web界面进行访问公开的或者私人项目。 它拥有与GitHub类似的功能，能够浏览源代码，管理缺陷和注释。可以管理团队对仓库的访问，它非常易于浏览提交过的版本并提供一个文件历史库。团队成员可以利用内置的简单聊天程序（Wall）进行交流。它还提供一个代码片段收集功能可以轻松实现代码复用，便于日后有需要的时候进行查找。
2. Gitlab-CI Gitlab-CI是GitLab Continuous Integration（Gitlab持续集成）的简称。 从Gitlab的8.0版本开始，gitlab就全面集成了Gitlab-CI,并且对所有项目默认开启。 只要在项目仓库的根目录添加.gitlab-ci.yml文件，并且配置了Runner（运行器），那么每一次合并请求（MR）或者push都会触发CI pipeline。
3. Gitlab-runner Gitlab-runner是.gitlab-ci.yml脚本的运行器，Gitlab-runner是基于Gitlab-CI的API进行构建的相互隔离的机器（或虚拟机）。GitLab Runner 不需要和Gitlab安装在同一台机器上，但是考虑到GitLab Runner的资源消耗问题和安全问题，也不建议这两者安装在同一台机器上。
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-04 itemprop="datePublished">February 4, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-04-k8s%E4%BF%AE%E6%94%B9dns%E8%A7%A3%E6%9E%90/">k8s修改dns解析</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				K8S 使用的 DNS 是 Core DNS，可以在这里添加新的域名、IP
kubectl get cm -n kube-system NAME DATA AGE coredns 2 33d extension-apiserver-authentication 6 33d kube-proxy 2 33d kubeadm-config 2 33d kubelet-config-1.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-04 itemprop="datePublished">February 4, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-03-promql%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/">PromQL语法学习</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				直接指标查询  表达式：node_load1表示查询当前1分钟的负载，仅使用指标查询。
函数查询  表达式：rate(node_cpu[2m])，表示查询单位时间（2分钟）内样本数据的增长率。
表达式：rate(node_load1[2m])，表示每2分钟内指标node_load1表示的指标的增长率。
结果：
{container=&quot;kube-rbac-proxy&quot;, endpoint=&quot;https&quot;, instance=&quot;docker-desktop&quot;, job=&quot;node-exporter&quot;, namespace=&quot;monitoring&quot;, pod=&quot;node-exporter-sd26w&quot;, service=&quot;node-exporter&quot;} 0.02933333333333333  排除指定标签影响  以上表达式查询出来的结果中都会由多个标签表示，例如上述的结果由container,endpoint,instance,job,namespace,pod,service,标签共同表示以上标签如果有任何不同，则认为属于两条记录。如果要忽略某一标签的印象，则需要使用without排除：
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-03 itemprop="datePublished">February 3, 2021</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/promql/">
               	 #PromQL</a></span>
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/k8s/">
               	 #k8s</a></span>
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/kubernetes/">
               	 #kubernetes</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-02-01-%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E8%A1%A8%E7%A4%BA/">子网掩码表示</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				示例：
192.168.2.0/24 表示 固定前24位，后8位可以任意变动，所以表示的ip段为192.168.2.0-192.168.2.255。
192.168.2.0/24 表示 固定前26位，后6位可以任意变动，所以表示的ip共有2^6-2个。
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-02-01 itemprop="datePublished">February 1, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	

	

<ul class="pagination">
    
    
    
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/">1</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active">
        <span class="page-link">
            <a href="/page/2/">2</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/3/">3</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/4/">4</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item "><span class="page-link" aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/19/">19</a></li>
        </span>
    
    
    
    
</ul>

</div>

  

          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://linjinbao.github.io">linjinbao</a>  </span> 
         

         
		 
    </div>
</footer>











    
    <script src="/js/vendor_main.min.js" async=""></script>



     </div>
  </body>
</html>
