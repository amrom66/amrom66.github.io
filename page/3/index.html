<!DOCTYPE html>
<html lang="en-us">
  <head>
	<meta name="generator" content="Hugo 0.64.1" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="linjinbao">
  <meta name="description" content="打工人日记">
  <meta name="keywords" content="博客 个人 日记">
  
  
  
  <link rel="canonical" href="https://linjinbao.github.io/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           打工人日记
       
  </title>
  <meta name="title" content="打工人日记">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
    <link href="https://linjinbao.github.io/index.xml" rel="alternate" type="application/rss+xml" title="打工人日记" />
    <link href="https://linjinbao.github.io/index.xml" rel="feed" type="application/rss+xml" title="打工人日记" />
  
  

<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "url": "https:\/\/linjinbao.github.io\/",
    "name": "打工人日记",
    "author": {
        "@type": "Person",
        "name": "linjinbao"
    },
    "description": "打工人日记",
}
</script>
 

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://linjinbao.github.io">打工人日记</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">博客</a>
                
                <a class="menu-item" href="/categories/" title="">分类</a>
                
                <a class="menu-item" href="/tags/" title="">标签</a>
                
                <a class="menu-item" href="/about/" title="关于">关于</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://linjinbao.github.io">打工人日记</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">博客</a>
                
                <a class="menu-item" href="/categories/" title="">分类</a>
                
                <a class="menu-item" href="/tags/" title="">标签</a>
                
                <a class="menu-item" href="/about/" title="关于">关于</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
  	
  	
<div class="post-warp">
	<div class="intro">
    
    
    
    <div class="avatar">
        <a href="/"> <img src="/images/me/avatar.jpg"> </a>
    </div>
    
    
    <h2 class="description">
       Across the great wall, we can reach the world
    </h2>
    
 
</div>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-01-29-spring-boot-%E5%88%87%E6%8D%A2%E5%88%B0postgress%E6%95%B0%E6%8D%AE%E5%BA%93-jpa%E7%89%88/">spring boot 切换到postgress数据库-jpa版</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				适用范围  基于spring boot 2.0 orm框架使用jpa  无法修改原先的任何代码。
操作步骤  修改pom文件加入依赖  pom.xml
&lt;!&ndash;<a href="https://mvnrepository.com/artifact/org.postgresql/postgresql">https://mvnrepository.com/artifact/org.postgresql/postgresql</a> &ndash;&gt; &lt;dependency&gt; &lt;groupId&gt;org.postgresql&lt;/groupId&gt; &lt;artifactId&gt;postgresql&lt;/artifactId&gt; &lt;version&gt;42.2.18&lt;/version&gt; &lt;/dependency&gt; 修改pom文件，新增profile环境  pom.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-01-29 itemprop="datePublished">January 29, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-01-28-k8s-in-action-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">k8s in action 阅读笔记</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				如何保证多次请求命中同一个pod？  If you execute the same command a few more times, you should hit a different pod with every invocation, because the service proxy normally forwards each connection to a randomly selected backing pod, even if the connections are coming from the same client.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-01-28 itemprop="datePublished">January 28, 2021</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/kubernetes/">
               	 #kubernetes</a></span>
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/k8s/">
               	 #k8s</a></span>
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/cloud-native/">
               	 #cloud native</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-01-28-%E5%A4%96%E9%83%A8%E6%9C%8D%E5%8A%A1%E5%88%9B%E5%BB%BA/">外部服务创建</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				简介 k8s中的资源类型Service用作代理Pod，一般来说需要在Service中定义selector才可以绑定到对应pod上。存在一种特殊的service，即不指定selector的service。这种类型的service一般用作代理外部服务。例如集群外存在mysql服务，这时想要映射到集群内部地址使用，此时即可使用这种service。
要点  service不指定selector 创建endpoints与service同名  此时即可完成绑定
示例：
external-service.yaml
&mdash; apiVersion: v1 kind: Service metadata: name: external-service spec: type: NodePort ports: - port: 80 &mdash; apiVersion: v1 kind: Endpoints metadata: name: external-service subsets: - addresses: - ip: 172.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-01-28 itemprop="datePublished">January 28, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2021-01-08-k8s%E9%83%A8%E7%BD%B2%E7%9A%84%E5%AE%9E%E7%94%A8%E5%91%BD%E4%BB%A4/">k8s部署的实用命令</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				使用kubeadm部署的时候。
containerd生成默认配置  containerd config default &gt; /etc/containerd/config.toml 修改后最终文件：
config.toml
version = 2 root = &quot;/var/lib/containerd&quot; state = &quot;/run/containerd&quot; plugin_dir = &quot;&quot; disabled_plugins = [] required_plugins = [] oom_score = 0 [grpc] address = &quot;/run/containerd/containerd.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2021-01-08 itemprop="datePublished">January 8, 2021</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-12-30-jdk1.15%E7%BC%96%E8%AF%91/">jdk1.15编译</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				github下载项目  <a href="https://github.com/openjdk/jdk">https://github.com/openjdk/jdk</a>
安装依赖  yum -y install build-essential gawk m4 libasound2-print-dev binutils libmotif3 libmotif-dev ant yum install libX* yum install fontconfig-devel yum install autoconf yum install -y centos-release-scl yum install -y devtoolset-7 yum install libXtst-devel libXt-devel libXrender-devel libXrandr-devel libXi-devel -y yum install cups-devel yum install fontconfig-devel yum install alsa-lib-devel -y 编译  make images
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-12-30 itemprop="datePublished">December 30, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-12-30-k8s-1.19-%E9%83%A8%E7%BD%B2%E8%84%9A%E6%9C%AC/">k8s 1.19 部署脚本</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				<ol>
<li>概述 采用裸机部署的方式，主要组件版本如下：
组件 版本 发布时间     kubernetes 1.19.6 2020-12-18   etcd v3.4.3    crictl v1.</li>
</ol>
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-12-30 itemprop="datePublished">December 30, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-12-29-%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/">哈希函数</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				哈希函数又称散列函数，是一种从任何一种数据中创建小的数字“指纹”的方法。散列函数把消息或数据压缩成摘要，使得数据量变小，将数据的格式固定下来。该函数将数据打乱混合，重新创建一个叫做散列值（hash values，hash codes，hash sums，或hashes）的指纹。散列值通常用一个短的随机字母和数字组成的字符串来代表。[1]好的散列函数在输入域中很少出现散列冲突。在散列表和数据处理中，不抑制冲突来区别数据，会使得数据库记录更难找到。
如今，散列算法也被用来加密存在数据库中的密码（password）字符串，由于散列算法所计算出来的散列值（Hash Value）具有不可逆（无法逆向演算回原本的数值）的性质，因此可有效的保护密码。
散列函数的性质 所有散列函数都有如下一个基本特性：如果两个散列值是不相同的（根据同一函数），那么这两个散列值的原始输入也是不相同的。这个特性是散列函数具有确定性的结果，具有这种性质的散列函数称为单向散列函数。但另一方面，散列函数的输入和输出不是唯一对应关系的，如果两个散列值相同，两个输入值很可能是相同的，但也可能不同，这种情况称为“散列碰撞（collision）”，这通常是两个不同长度的输入值，刻意计算出相同的输出值。输入一些数据计算出散列值，然后部分改变输入值，一个具有强混淆特性的散列函数会产生一个完全不同的散列值。
典型的散列函数都有非常大的定义域，比如SHA-2最高接受(264-1)/8长度的字节字符串。同时散列函数一定有着有限的值域，比如固定长度的比特串。在某些情况下，散列函数可以设计成具有相同大小的定义域和值域间的单射。在密码学中，散列函数必须具有不可逆性。
散列函数的应用 由于散列函数的应用的多样性，它们经常是专为某一应用而设计的。例如，加密散列函数假设存在一个要找到具有相同散列值的原始输入的敌人。一个设计优秀的加密散列函数是一个“单向”操作：对于给定的散列值，没有实用的方法可以计算出一个原始输入，也就是说很难伪造。为加密散列为目的设计的函数，如SHA-2，被广泛的用作检验散列函数。这样软件下载的时候，就会对照验证代码之后才下载正确的文件部分。此代码不会因为环境因素的变化，如机器配置或者IP地址的改变而有变动。以保证源文件的安全性。
错误监测和修复函数主要用于辨别数据被随机的过程所扰乱的事例。当散列函数被用于校验和的时候，可以用相对较短(但不能短于某个安全参数, 通常不能短于160位)的散列值来验证任意长度的数据是否被更改过。
冲突解决   开放地址法：
以发生冲突的哈希地址为输入，通过某种哈希冲突函数得到一个新的空闲的哈希地址的方法
。有以下几种方式：
线性探查法：从发生冲突的地址开始，依次探查下一个地址，直到找到一个空闲单元。 平方探查法：设冲突地址为d0，则探查序列为：d0+1^2,d0-1^2,d0+2^2…    拉链法：
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-12-29 itemprop="datePublished">December 29, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-12-10-v2ray%E5%85%A8%E6%AD%A5%E9%AA%A4%E8%AE%B0%E5%BD%95/">v2ray全步骤记录</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				背景介绍 由于不可描述的原因，国内的网络长期针对谷歌等网站进行屏蔽，导致国内网络与世界脱轨，形成局域网，并且，时有民众因为“私自搭建非法网络信道”罪名被处罚。但是，作为程序员，本身非常依赖信息的获取，由此产生了搭建VPN的需求。注意，由于国情限制，此操作只可以私下小规模使用，并伴随牢狱风险。
条件准备  国外VPS，建议vultr，国内的VPS由于处在大环境下，不会提供访问境外网络的服务，并有记录流量日志的行为。 VPN选择，在v2ray和trojan中进行选择，建议v2ray。 域名准备（可选），使用域名方便配合CDN代理进行源站伪装，避免IP被直接墙掉。  操作步骤 第一步：注册vultr账号： <a href="https://www.vultr.com">https://www.vultr.com</a>；
第二步：充值金额，新账号，一般会有$100的额度，所以一般无需充值，用完再充值；
第三步：部署一台机器
![截屏2020-12-10 下午1.02.19](/Users/linjinbao/Desktop/截屏2020-12-10 下午1.02.19.png)
选择Deploy New Server
机器位置选择美国，（亚洲的很多机器IP无法使用，如果能找到可用的亚洲最好）
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-12-10 itemprop="datePublished">December 10, 2020</time>
                </span>
                in
                
        </div>
				
				<div class="post-tags">
        		
        			<span class="tag"><a href="https://linjinbao.github.io/tags/v2ray/">
               	 #v2ray</a></span>
        		
				</div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-11-19-git%E4%B8%8A%E4%BC%A0%E5%A4%A7%E6%96%87%E4%BB%B6/">git上传大文件</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				github默认文件限制阿紫50M内，超出50M会报警告，超出100M无法上传。如果仍然想上传，可以使用git large file system，上限1GB。
brew install git-lfs git lfs install git rm &ndash;cached bin/bin/kubelet. ##清除已经加入本地的记录 git lfs track &quot;bin/kubelet&quot; cat .
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-11-19 itemprop="datePublished">November 19, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-11-17-ingress%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/">ingress部署文档</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				deploy.yaml
apiVersion: v1 kind: Namespace metadata: name: ingress-nginx labels: app.kubernetes.io/name: ingress-nginx app.kubernetes.io/instance: ingress-nginx &mdash; # Source: ingress-nginx/templates/controller-serviceaccount.yaml apiVersion: v1 kind: ServiceAccount metadata: labels: helm.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-11-17 itemprop="datePublished">November 17, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-11-17-sonar%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E-%E7%A0%94%E5%8F%91%E4%BA%BA%E5%91%98/">sonar代码检查工具使用说明-研发人员</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				**！ 注意此文档为测试文档，让大家提前使用并熟悉下代码检查的工作原理，后续会集成到jenkins中 **</p>
<ol>
<li>背景说明 代码检查是项目开发过程中的重要组成，及时的代码检查可以帮助规避掉多数的简单漏洞和潜在bug。本文旨在讲解如何使用sonar的代码检查工具进行代码检查。支持语言：html js java 等</li>
<li>maven操作演示 2.1 在maven的settings.xml中做如下配置， pluginGroups在settings标签下：
&lt;pluginGroups&gt; &lt;pluginGroup&gt;org.sonarsource.scanner.maven&lt;/pluginGroup&gt; &lt;/pluginGroups&gt; 2.2 profile中加入sonar的环境配置：
&lt;profile&gt; &lt;id&gt;sonar&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;/activation&gt; &lt;properties&gt; &lt;sonar.</li>
</ol>
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-11-17 itemprop="datePublished">November 17, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	
		<article class="post" itemscope itemscope="" itemtype="http://schema.org/Article">

			<header class="post-header">
				<h1 class="post-title" itemprop="name headline"><a href="https://linjinbao.github.io/2020-11-17-%E6%95%B4%E5%90%88sonar%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5/">整合sonar代码检查</a></h1>
			</header>
			<div class="post-content">
				 
				   
       			 
				内容概要：
postgres部署 sonar部署 插件安装 整合sonar和maven 整合和sonar和idea 整合sonar和eclipse 整合sonar和jenkins  1. postgress部署 采用k8s持久化部署
postgress.yaml
&mdash; apiVersion: v1 kind: ConfigMap metadata: name: postgres-config labels: app: postgres data: POSTGRES_DB: postgresdb POSTGRES_USER: postgresadmin POSTGRES_PASSWORD: admin123 kind: PersistentVolume &mdash; apiVersion: v1 metadata: name: postgres-pv-volume labels: type: local app: postgres spec: storageClassName: manual capacity: storage: 5Gi accessModes: - ReadWriteMany hostPath: path: &quot;/mnt/data&quot; &mdash; kind: PersistentVolumeClaim apiVersion: v1 metadata: name: postgres-pv-claim labels: app: postgres spec: storageClassName: manual accessModes: - ReadWriteMany resources: requests: storage: 5Gi apiVersion: apps/v1 kind: Deployment metadata: name: postgres spec: replicas: 1 selector: matchLabels: app: postgres template: metadata: labels: app: postgres spec: containers: - name: postgres image: postgres:10.
			</div>
			<div class="post-footer">
				<div class="post-meta">
                <span class="post-time">
                <time datetime=2020-11-17 itemprop="datePublished">November 17, 2020</time>
                </span>
                in
                
        </div>
				
			</div>
		</article>
	

	

<ul class="pagination">
    
    
    
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/">1</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/2/">2</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active">
        <span class="page-link">
            <a href="/page/3/">3</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/4/">4</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/5/">5</a></li>
        </span>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item "><span class="page-link" aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item ">
        <span class="page-link">
            <a href="/page/19/">19</a></li>
        </span>
    
    
    
    
</ul>

</div>

  

          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2019 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://linjinbao.github.io">linjinbao</a>  </span> 
         

         
		 
    </div>
</footer>











    
    <script src="/js/vendor_main.min.js" async=""></script>



     </div>
  </body>
</html>
